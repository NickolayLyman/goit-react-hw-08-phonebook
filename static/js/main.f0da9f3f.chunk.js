(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{107:function(t,e,n){},109:function(t,e,n){"use strict";n.r(e);var r,c,a,s,i,u,o,b,j=n(0),l=n.n(j),O=n(29),d=n.n(O),f=n(19),g=n(65),h=n(13),p=n(35),x=n(5),v=n(24),k=n(68),m=n.n(k),S=n(69),C=n.n(S),I=n(3),E=n(9),y=n(12),A={items:[],filter:"",isLoading:!1,error:""},R=Object(x.c)(A.items,(r={},Object(I.a)(r,y.j,(function(t,e){return e.payload})),Object(I.a)(r,y.c,(function(t,e){var n=e.payload;return[].concat(Object(p.a)(t),[n])})),Object(I.a)(r,y.g,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),U=Object(x.c)(A.filter,Object(I.a)({},y.d,(function(t,e){return e.payload}))),q=Object(x.c)(A.isLoading,(c={},Object(I.a)(c,y.i,(function(){return!0})),Object(I.a)(c,y.j,(function(){return!1})),Object(I.a)(c,y.h,(function(){return!1})),Object(I.a)(c,y.b,(function(){return!0})),Object(I.a)(c,y.c,(function(){return!1})),Object(I.a)(c,y.a,(function(){return!1})),Object(I.a)(c,y.f,(function(){return!0})),Object(I.a)(c,y.g,(function(){return!1})),Object(I.a)(c,y.e,(function(){return!1})),c)),w=Object(x.c)(A.error,(a={},Object(I.a)(a,y.h,(function(t,e){return e.payload})),Object(I.a)(a,y.a,(function(t,e){return e.payload})),Object(I.a)(a,y.e,(function(t,e){return e.payload})),a)),L=Object(E.c)({items:R,filter:U,isLoading:q,error:w}),N=n(4),z={name:null,email:null},F=null,T=!1,P=null,B=!1,D=Object(x.c)(z,(s={},Object(I.a)(s,N.a.registrationSuccess,(function(t,e){return e.payload.user})),Object(I.a)(s,N.a.signInSuccess,(function(t,e){return e.payload.user})),Object(I.a)(s,N.a.signOutSuccess,(function(){return z})),Object(I.a)(s,N.a.getCurrentUserSuccess,(function(t,e){return e.payload})),s)),W=Object(x.c)(F,(i={},Object(I.a)(i,N.a.registrationSuccess,(function(t,e){return e.payload.token})),Object(I.a)(i,N.a.signInSuccess,(function(t,e){return e.payload.token})),Object(I.a)(i,N.a.signOutSuccess,(function(){return null})),i)),J=Object(x.c)(B,(u={},Object(I.a)(u,N.a.registrationRequest,(function(){return!0})),Object(I.a)(u,N.a.registrationSuccess,(function(){return!1})),Object(I.a)(u,N.a.registrationError,(function(){return!1})),Object(I.a)(u,N.a.signInRequest,(function(){return!0})),Object(I.a)(u,N.a.signInSuccess,(function(){return!1})),Object(I.a)(u,N.a.signInError,(function(){return!1})),Object(I.a)(u,N.a.signOutRequest,(function(){return!0})),Object(I.a)(u,N.a.signOutSuccess,(function(){return!1})),Object(I.a)(u,N.a.signOutError,(function(){return!1})),Object(I.a)(u,N.a.getCurrentUserRequest,(function(){return!0})),Object(I.a)(u,N.a.getCurrentUserSuccess,(function(){return!1})),Object(I.a)(u,N.a.getCurrentUserError,(function(){return!1})),u)),M=function(t,e){return e.payload},H=Object(x.c)(P,(o={},Object(I.a)(o,N.a.registrationError,M),Object(I.a)(o,N.a.signInError,M),Object(I.a)(o,N.a.signOutError,M),Object(I.a)(o,N.a.getCurrentUserError,M),o)),G=Object(x.c)(T,(b={},Object(I.a)(b,N.a.registrationSuccess,(function(){return!0})),Object(I.a)(b,N.a.signInSuccess,(function(){return!0})),Object(I.a)(b,N.a.getCurrentUserSuccess,(function(){return!0})),Object(I.a)(b,N.a.registrationError,(function(){return!1})),Object(I.a)(b,N.a.signInError,(function(){return!1})),Object(I.a)(b,N.a.getCurrentUserError,(function(){return!1})),Object(I.a)(b,N.a.signOutSuccess,(function(){return!1})),b)),K=Object(E.c)({user:D,token:W,isSignedIn:G,error:H,isAuthLoading:J}),Q=[].concat(Object(p.a)(Object(x.d)({serializableCheck:{ignoredActions:[v.a,v.f,v.b,v.c,v.d,v.e]}})),[m.a]),V={key:"auth",storage:C.a,whitelist:["token"]},X=Object(x.a)({reducer:{auth:Object(v.g)(V,K),contacts:L},middleware:Q,devTools:!1}),Y=Object(v.h)(X),Z=n(7),$=n(47),_=n(17),tt=n(27),et=n(20),nt=n(2);function rt(t){var e=t.children,n=t.redirectTo,r=void 0===n?"/":n,c=Object(tt.a)(t,["children","redirectTo"]),a=Object(h.c)(et.a.getIsSignIn);return Object(nt.jsx)(Z.b,Object(_.a)(Object(_.a)({},c),{},{children:a?e:Object(nt.jsx)(Z.a,{to:r})}))}var ct=n(31);function at(t){var e=t.children,n=t.restricted,r=void 0!==n&&n,c=t.redirectTo,a=void 0===c?"/contacts":c,s=Object(tt.a)(t,["children","restricted","redirectTo"]),i=Object(h.c)(et.a.getIsSignIn)&&r;return Object(nt.jsx)(Z.b,Object(_.a)(Object(_.a)({},s),{},{children:i?Object(nt.jsx)(Z.a,{to:a}):e}))}var st=n(36),it=n(26),ut=Object(it.a)({link:{display:"inline-block",textDecoration:"none",marginRight:15,fontWeight:700,fontSize:18,color:"#DEB887","&:hover":{color:"#FF4500"}},activeLink:{color:"#A52A2A"}}),ot=function(){var t=Object(h.c)(et.a.getIsSignIn),e=ut();return Object(nt.jsxs)("nav",{children:[Object(nt.jsx)(f.b,{to:"/",exact:!0,className:e.link,activeClassName:e.activeLink,children:"Home"}),t&&Object(nt.jsx)(f.b,{to:"/contacts",exact:!0,className:e.link,activeClassName:e.activeLink,children:"Contacts"})]})},bt=n(44),jt=Object(it.a)({container:{display:"flex",alignItems:"center"},name:{marginRight:12,fontSize:16,fontWeight:600,fontStyle:"italic",color:"#DEB887"},link:{display:"inline-block",marginLeft:15,borderRadius:5,border:"1px solid #A52A2A",padding:7,fontWeight:600,color:"#fff",backgroundColor:"#A52A2A","&:hover":{color:"#A52A2A",backgroundColor:"#fff",border:"1px solid #A52A2A"}}}),lt=function(){var t=jt(),e=Object(h.b)(),n=Object(h.c)(et.a.getUsername);return Object(nt.jsxs)("div",{className:t.container,children:[Object(nt.jsxs)("span",{className:t.name,children:["Welcome, ",n," "]}),Object(nt.jsx)(bt.a,{type:"button",onClick:function(){return e(st.a.signOut())},value:"Sign Out",className:t.link})]})},Ot=Object(it.a)({link:{display:"inline-block",marginRight:15,textDecoration:"none",border:"1px solid #A52A2A",borderRadius:5,padding:7,fontWeight:600,color:"#A52A2A"},activeLink:{color:"#fff",backgroundColor:"#A52A2A"}}),dt=function(){var t=Ot();return Object(nt.jsxs)("div",{children:[Object(nt.jsx)(f.b,{to:"/register",exact:!0,className:t.link,activeClassName:t.activeLink,children:"Registration"}),Object(nt.jsx)(f.b,{to:"/login",exact:!0,className:t.link,activeClassName:t.activeLink,children:"Sign In"})]})},ft=Object(it.a)({header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 20px",backgroundColor:"#FFF8DC"}}),gt=function(){var t=Object(h.c)(et.a.getIsSignIn),e=ft();return Object(nt.jsxs)("header",{className:e.header,children:[Object(nt.jsx)(ot,{}),t?Object(nt.jsx)(lt,{}):Object(nt.jsx)(dt,{})]})},ht=(n(106),Object(j.lazy)((function(){return n.e(7).then(n.bind(null,315))}))),pt=Object(j.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,312))})),xt=Object(j.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,313))})),vt=Object(j.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,314))}));function kt(){var t=Object(h.b)();return Object(j.useEffect)((function(){t(st.a.fetchCurrentUser())}),[t]),Object(nt.jsxs)($.a,{children:[Object(nt.jsx)(ct.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0}),Object(nt.jsx)(gt,{}),Object(nt.jsx)(Z.d,{children:Object(nt.jsxs)(j.Suspense,{fallback:Object(nt.jsx)("h2",{children:"Loading...."}),children:[Object(nt.jsx)(at,{exact:!0,path:"/",children:Object(nt.jsx)(ht,{})}),Object(nt.jsx)(at,{exact:!0,path:"/register",restricted:!0,children:Object(nt.jsx)(pt,{})}),Object(nt.jsx)(at,{exact:!0,path:"/login",restricted:!0,children:Object(nt.jsx)(xt,{})}),Object(nt.jsx)(rt,{exact:!0,path:"/contacts",redirectTo:"/login",children:Object(nt.jsx)(vt,{})}),Object(nt.jsx)(Z.a,{to:"/login"})]})})]})}n(107),n(108);d.a.render(Object(nt.jsx)(l.a.StrictMode,{children:Object(nt.jsx)(h.a,{store:X,children:Object(nt.jsx)(g.a,{loading:null,persistor:Y,children:Object(nt.jsx)(f.a,{children:Object(nt.jsx)(kt,{})})})})}),document.getElementById("root"))},12:function(t,e,n){"use strict";n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return a})),n.d(e,"h",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return j})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return O}));var r=n(5),c=Object(r.b)("contacts/fetchContactsRequest"),a=Object(r.b)("contacts/fetchContactsSuccess"),s=Object(r.b)("contacts/fetchContactsError"),i=Object(r.b)("contacts/addContactRequest"),u=Object(r.b)("contacts/addContactSuccess"),o=Object(r.b)("contacts/addContactError"),b=Object(r.b)("contacts/deleteContactRequest"),j=Object(r.b)("contacts/deleteContactSuccess"),l=Object(r.b)("contacts/deleteContactError"),O=Object(r.b)("contacts/changeFilter")},20:function(t,e,n){"use strict";var r={getIsSignIn:function(t){return t.auth.isSignedIn},getUsername:function(t){return t.auth.user.name},getUserEmail:function(t){return t.auth.user.email},getToken:function(t){return t.auth.token},getIsAuthLoading:function(t){return t.auth.isAuthLoading},getErrorMessage:function(t){return t.auth.error},getIsFetchingUser:function(t){return t.auth.isFetchingUser}};e.a=r},36:function(t,e,n){"use strict";var r=n(23),c=n.n(r),a=n(33),s=n(28),i=n.n(s),u=n(4),o=n(31);i.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var b=function(t){i.a.defaults.headers.common.Authorization="Bearer ".concat(t)},j=function(){i.a.defaults.headers.common.Authorization=""},l={registration:function(t){return function(){var e=Object(a.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(u.a.registrationRequest()),e.prev=1,e.next=4,i.a.post("/users/signup",t);case 4:r=e.sent,a=r.data,b(a.token),n(u.a.registrationSuccess(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(u.a.registrationError(o.b.error("Please enter correct data")));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},signIn:function(t){return function(){var e=Object(a.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(u.a.signInRequest()),e.prev=1,e.next=4,i.a.post("/users/login",t);case 4:r=e.sent,a=r.data,b(a.token),n(u.a.signInSuccess(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(u.a.signInError(o.b.error("Please enter correct data")));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},signOut:function(){return function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(u.a.signOutRequest()),t.prev=1,t.next=4,i.a.post("/users/logout");case 4:j(),e(u.a.signOutSuccess()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(u.a.signOutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},fetchCurrentUser:function(){return function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),a=r.auth.token){t.next=3;break}return t.abrupt("return");case 3:return b(a),e(u.a.getCurrentUserRequest()),t.prev=5,t.next=8,i.a.get("/users/current");case 8:s=t.sent,o=s.data,e(u.a.getCurrentUserSuccess(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e(u.a.getCurrentUserError(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}()}};e.a=l},4:function(t,e,n){"use strict";var r=n(5),c={registrationRequest:Object(r.b)("auth/registerRequest"),registrationSuccess:Object(r.b)("auth/registerSuccess"),registrationError:Object(r.b)("auth/registerError"),signInRequest:Object(r.b)("auth/signInRequest"),signInSuccess:Object(r.b)("auth/signInSuccess"),signInError:Object(r.b)("auth/signInError"),signOutRequest:Object(r.b)("auth/signOutRequest"),signOutSuccess:Object(r.b)("auth/signOutSuccess"),signOutError:Object(r.b)("auth/signOutError"),getCurrentUserRequest:Object(r.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(r.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(r.b)("auth/getCurrentUserError")};e.a=c},44:function(t,e,n){"use strict";var r=n(45);n.d(e,"a",(function(){return r.a}))},45:function(t,e,n){"use strict";var r=n(17),c=n(27),a=n(2);e.a=function(t){var e=t.value,n=Object(c.a)(t,["value"]);return Object(a.jsx)("button",Object(r.a)(Object(r.a)({},n),{},{children:e}))}},47:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(17),c=n(27),a=n(2),s=function(t){var e=t.children,n=Object(c.a)(t,["children"]);return Object(a.jsx)("div",Object(r.a)(Object(r.a)({},n),{},{children:e}))}}},[[109,3,4]]]);
//# sourceMappingURL=main.f0da9f3f.chunk.js.map